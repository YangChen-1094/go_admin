(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order"],{3835:function(t,e,a){"use strict";function r(t){if(Array.isArray(t))return t}function s(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],r=!0,s=!1,l=void 0;try{for(var n,i=t[Symbol.iterator]();!(r=(n=i.next()).done);r=!0)if(a.push(n.value),e&&a.length===e)break}catch(o){s=!0,l=o}finally{try{r||null==i["return"]||i["return"]()}finally{if(s)throw l}}return a}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function n(t,e){if(t){if("string"===typeof t)return l(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?l(t,e):void 0}}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){return r(t)||s(t,e)||n(t,e)||i()}a.d(e,"a",(function(){return o}))},"6a8d":function(t,e,a){"use strict";a("7b77")},"7b77":function(t,e,a){},"9e8c":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-lx-cascades"}),t._v(" 订单查询 ")])],1)],1),a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-select",{staticClass:"handle-select mr10",attrs:{placeholder:"订单状态"},model:{value:t.query.status,callback:function(e){t.$set(t.query,"status",e)},expression:"query.status"}},[a("el-option",{key:-1,attrs:{label:"全部",value:-1}}),a("el-option",{key:0,attrs:{label:"支付中...",value:0}}),a("el-option",{key:1,attrs:{label:"支付成功",value:1}}),a("el-option",{key:2,attrs:{label:"发货成功",value:2}}),a("el-option",{key:3,attrs:{label:"超时取消",value:3}}),a("el-option",{key:4,attrs:{label:"用户取消",value:4}})],1),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"订单号"},model:{value:t.query.orderId,callback:function(e){t.$set(t.query,"orderId",e)},expression:"query.orderId"}}),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"用户id"},model:{value:t.query.uid,callback:function(e){t.$set(t.query,"uid",e)},expression:"query.uid"}}),a("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"年月日 如：200601,表示2020年6月1日"},model:{value:t.query.ymd,callback:function(e){t.$set(t.query,"ymd",e)},expression:"query.ymd"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleSearch}},[t._v("查询")])],1),a("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.table_data,border:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{width:"170",label:"订单id"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.orderId))]}}])}),a("el-table-column",{attrs:{width:"150",label:"用户id"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.uid))]}}])}),a("el-table-column",{attrs:{width:"100",label:"appId"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.appId))]}}])}),a("el-table-column",{attrs:{width:"130",label:"实际支付/元"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.payAmount))]}}])}),a("el-table-column",{attrs:{width:"130",label:"订单总金额/元"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.totalAmount))]}}])}),a("el-table-column",{attrs:{width:"100",label:"支付币种"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.payCurrency))]}}])}),a("el-table-column",{attrs:{width:"170",label:"下单时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.createTime))]}}])}),a("el-table-column",{attrs:{width:"170",label:"发货时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.sendTime))]}}])}),a("el-table-column",{attrs:{width:"100",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.order_status_tag}},[t._v(t._s(e.row.order_status_text))])]}}])}),a("el-table-column",{attrs:{width:"230",label:"中台订单号"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.payOrderNo))]}}])}),a("el-table-column",{attrs:{width:"120",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",icon:"el-icon-s-order"},on:{click:function(a){return t.orderDetail(e.$index,e.row)}}},[t._v("详情")])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.query.page_index,"page-sizes":[10,20,50],"page-size":t.query.page_size,layout:"total, sizes, prev, pager, next, jumper",total:t.page_total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"",top:"5vh",visible:t.dialogVisible,width:"5·0%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("订单id")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.order_detail.orderId))])])],1),a("el-divider",{attrs:{"content-position":"center"}}),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("用户uid")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.order_detail.uid))])])],1),a("el-divider",{attrs:{"content-position":"center"}}),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("appId")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.order_detail.appId))])])],1),a("el-divider",{attrs:{"content-position":"center"}}),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("乐逗openId")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.order_detail.openId))])])],1),a("el-divider",{attrs:{"content-position":"center"}}),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("购买点")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.order_detail.productId))])])],1),a("el-divider",{attrs:{"content-position":"center"}}),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("订单金额")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.order_detail.totalAmount/100)+" 元")])])],1),a("el-divider",{attrs:{"content-position":"center"}}),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("实际支付")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.order_detail.payAmount/100)+" 元")])])],1),a("el-divider",{attrs:{"content-position":"center"}}),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("支付币种")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.order_detail.payCurrency))])])],1),a("el-divider",{attrs:{"content-position":"center"}}),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("下单时间")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.order_detail.createTime))])])],1),a("el-divider",{attrs:{"content-position":"center"}}),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("支付时间")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.order_detail.payTime))])])],1),a("el-divider",{attrs:{"content-position":"center"}}),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("发货时间")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.order_detail.sendTime))])])],1),a("el-divider",{attrs:{"content-position":"center"}}),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("更新时间")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[t._v(t._s(t.order_detail.updateTime))])])],1),a("el-divider",{attrs:{"content-position":"center"}}),a("el-row",[a("el-col",{attrs:{span:8}},[a("div",{staticClass:"grid-content bg-purple"},[t._v("订单状态")])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-tag",{attrs:{type:t.order_detail.order_status_tag}},[t._v(t._s(t.order_detail.order_status_text))])],1)])],1)],1)],1)},s=[],l=a("3835"),n=(a("ac6a"),a("b775")),i=a("c1df"),o={name:"Ordertable",data:function(){return{query:{uid:"",orderId:"",status:-1,ymd:"",page_index:1,page_size:10},table_data:[],order_detail:[],page_total:0,dialogVisible:!1}},created:function(){this.getData()},methods:{handleSizeChange:function(t){this.query.page_size=t,this.getData()},handleCurrentChange:function(t){this.query.page_pre=this.query.page_index,this.query.page_index=t,this.getData()},orderstatus:function(t){var e="",a="";switch(t){case"0":e="info",a="支付中...";break;case"1":e="",a="支付成功";break;case"2":e="success",a="发货成功";break;case"3":e="warning",a="超时取消";break;case"4":e="warning",a="用户取消";break;case"-1":e="info",a="全部";break}return[e,a]},getData:function(){var t=this,e=this;n["a"].post("./orderGetList",this.query).then((function(a){if(0!=a.code)return t.$message({message:a.msg,type:"fail"}),t.query.page_index=t.query.page_pre,!1;var r=a.data.list;r&&r.length>0&&r.forEach((function(t,a){var s=e.orderstatus(t.status+""),n=Object(l["a"])(s,2),o=n[0],d=n[1];r[a]["order_status_text"]=d,r[a]["order_status_tag"]=o,r[a]["payAmount"]=t.payAmount/100,r[a]["totalAmount"]=t.totalAmount/100,r[a]["createTime"]=t.createTime?i(1e3*t.createTime).format("YYYY-MM-DD HH:mm:ss"):"",r[a]["sendTime"]=t.sendTime>0?i(1e3*t.sendTime).format("YYYY-MM-DD HH:mm:ss"):""})),t.table_data=r,t.page_total=a.data.count}))},handleSearch:function(){this.$set(this.query,"page_index",1),this.getData()},orderDetail:function(t,e){var a=this,r=this;n["a"].post("./orderGetDetail",{orderId:e.orderId}).then((function(t){if(t.data){a.dialogVisible=!0,t.data.createTime=t.data.createTime>0?i(1e3*t.data.createTime).format("YYYY-MM-DD HH:mm:ss"):"",t.data.payTime=t.data.payTime>0?i(1e3*t.data.payTime).format("YYYY-MM-DD HH:mm:ss"):"无",t.data.sendTime=t.data.sendTime>0?i(1e3*t.data.sendTime).format("YYYY-MM-DD HH:mm:ss"):"无",t.data.updateTime=t.data.updateTime>0?i(1e3*t.data.updateTime).format("YYYY-MM-DD HH:mm:ss"):"无";var e=r.orderstatus(t.data.status+""),s=Object(l["a"])(e,2),n=s[0],o=s[1];t.data.order_status_text=o,t.data.order_status_tag=n,a.order_detail=t.data}}))}}},d=o,c=(a("6a8d"),a("2877")),u=Object(c["a"])(d,r,s,!1,null,"f2f62eca",null);e["default"]=u.exports}}]);